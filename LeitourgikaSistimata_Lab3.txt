https://regex101.com/

ΑΣΚΗΣΗ 1
ΑΠΑΝΤΗΣΗ: egrep --color 'to' file1
	ΑΠΟΤΕΛΕΣΜΑ: stool, toad
ΑΠΑΝΤΗΣΗ: egrep --color 't.n' file2
	ΑΠΟΤΕΛΕΣΜΑ: tin, Stun, stony
ΑΠΑΝΤΗΣΗ: egrep --color 'a[o-t].' file3 -> CHECK
	ΑΠΟΤΕΛΕΣΜΑ: at, art, task

ΑΣΚΗΣΗ 2
1. Δημιουργείστε ένα νέο directory κάτω από το home directory σας, με όνομα της επιλογής σας. Προηγουμένως ελέγξτε αν το όνομα υπάρχει και στη συνέχεια αν έχει δημιουργηθεί.
	ΑΠΑΝΤΗΣΗ: mkdir ~/os/lab3/askisi2/
		cd ~/lab3/askisi4/
2. Από τον κατάλογο ~asidirop/public/OSIntro/Lab4_files/ αντιγράψτε στο νέο directory το αρχείο passwd, με όνομα passwd1. Πριν από την αντιγραφή βεβαιωθείτε ότι τo αρχείο υπάρχει. Μετά την αντιγραφή ελέγξτε αν η αντιγραφή έγινε σωστά.
	ΑΠΑΝΤΗΣΗ: ls -l ~asidirop/public/OSIntro/Lab4_files/passwd
		cp ~asidirop/public/OSIntro/Lab4_files/passwd passwd1
		ls -l passwd1
4.a Βρείτε μόνον τις γραμμές του passwd1 που αρχίζουν με τα γράμματα Α-Μ και a-m και βάλτε το αποτέλεσμα σε ένα αρχείο με το όνομα passwd2.
	ΑΠΑΝΤΗΣΗ: egrep --color '^[A-Ma-m]' passwd1 > passwd2 
		Ή egrep --color -i '^[a-m]' passwd1 > passwd2
4.b Βρείτε όλους τους χρήστες (τις γραμμές) που χρησιμοποιούν φλοιό sh ως προεπιλεγμένο. Tο όνομα φλοιού είναι η τελευταία λέξη στο 7ο πεδίο. Βάλτε το αποτέλεσμα σε ένα νέο αρχείο passwd3.
	ΑΠΑΝΤΗΣΗ: egrep --color '/sh$' passwd1 > passwd3
5. Χρησιμοποιείστε την εντολή wc για να μετρήσετε πόσες γραμμές αντιστοιχούν στις προηγούμενες δύο περιπτώσεις.
	ΑΠΑΝΤΗΣΗ: wc passwd2 -> 1197  2396 92400 passwd2
	ΑΠΑΝΤΗΣΗ: wc passwd3 -> 219   426 16360 passwd3

ΑΣΚΗΣΗ 3
1. Που περιέχουν τηλέφωνο που τελειώνει σε 1.
	ΑΠΑΝΤΗΣΗ: egrep --color '1$' file
2. Που περιέχουν τηλέφωνο που αρχίζει από 5 και τελειώνει σε 1.
	ΑΠΑΝΤΗΣΗ: egrep --color '5....1$' file
		Ή egrep --color '5.{4}1$' file -> ΝΑ ΕΛΕΓΧΘΕΙ
		Ή egrep --color ' 5.*1$' file -> ΝΑ ΕΛΕΓΧΘΕΙ
3. Με όνομα που αρχίζει από J ή W (το όνομα είναι το 2ο πεδίο στην κάθε γραμμή)
	ΑΠΑΝΤΗΣΗ: egrep --color '*, [JW]' file
		Ή egrep --color '^[^,]*, [JW]' file
4. Με επίθετο μήκους 4 χαρακτήρων
	ΑΠΑΝΤΗΣΗ: egrep --color '^[^,]{4},' file
5. Που δεν περιέχουν τα γράμματα J ή W
	ΑΠΑΝΤΗΣΗ: egrep --color '[^JW],' file -> ΝΑ ΕΛΕΓΧΘΕΙ
6. Με επίθετο που ξεκινά από M έως Z
	ΑΠΑΝΤΗΣΗ: egrep --color '^[M-Z]' file
7. Με επίθετο που ξεκινά από M έως Z και αριθμό τηλεφώνου που τελειώνει με 1 ή 2.
	ΑΠΑΝΤΗΣΗ: egrep --color '^[M-Z]*[12]$' file -> ΝΑ ΕΛΕΓΧΘΕΙ
8. Με αριθμό τηλεφώνου που ΔΕΝ τελειώνει σε 22.
	ΑΠΑΝΤΗΣΗ: egrep --color -v '22$' file
	ΕΞΗΓΗΣΗ: Η παράμετρος -v εμφανίζει ότι ΔΕΝ τελειώνει σε 22.

ΑΣΚΗΣΗ 4
mkdir ~/os/lab3/askisi4/
vi filep
[ΔΙΝΟΥΜΕ ΤΟ ΚΕΙΜΕΝΟ ΠΟΥ ΖΗΤΑΕΙ Η ΑΣΚΗΣΗ]
Να βρείτε τα αποτελέσματα των παρακάτω εντολών και εξηγήστε τα:
1. egrep 'a?' filep
	ΑΠΑΝΤΗΣΗ: Βρίσκει τις γραμμές που έχουν a και οποιονδήποτε άλλο χαρακτήρα. Ουσιαστκά όλες.
2. egrep '(a|b)+' filep
	ΑΠΑΝΤΗΣΗ: Επιστρέφει τις γραμμές που περιέχουν a ή b και οτιδήποτε άλλο.
3. egrep '[ab]+' filep (Ποια είναι η διαφορά με το προηγούμενο;)
	ΑΠΑΝΤΗΣΗ: Επιστρέφει τις γραμμές που περιέχουν a ή b και οτιδήποτε άλλο. Μόνο που εδώ δηλώνεται σαν κλάση η έκφραση και χωρίς το or (|).
4. egrep '.{2}' filep
	ΑΠΑΝΤΗΣΗ: Επιστρέφει όλες τις γραμμές που έχουν τουλάχιστον 2 χαρακτήρες.
5. egrep '.{2,}' filep
	ΑΠΑΝΤΗΣΗ: Επιστρέφει όλες τις γραμμές που έχουν 2 και περισσότερους χαρακτήρες.
6. egrep '(.)\1' filep
	ΑΠΑΝΤΗΣΗ: Επιστρέφει τις γραμμές που επαναλαμβάνεται ένας χαρακτήρας τουλάχιστον 2 φορές (1 χαρακτήρας και ένας επανάληψη με τον πρώτο buffer \1).
7. egrep '(.).*\1' filep
	ΑΠΑΝΤΗΣΗ: Επιστρέφει οτιδήποτε περιλαμβάνει κείμενο που ξεκινάει με έναν χαρακτήρα (.) μετά οποιοδήποτε κείμενο (.*) και τελειώνει στον ίδιο χαρακτήρα που ξεκίνησε (με τη χρήση του buffer \1). Πρέπει δηλαδή το κείμενο που βρίσκει να αρχίζει και να τελειώνει με τον ίδιο χαρακτήρα.
8. egrep '(..).*\1' filep
	ΑΠΑΝΤΗΣΗ: Όπως η 7 μόνο που ταιριάζει 2 χαρακτήρες στην αρχή (..) και τους ίδιους 2 στο τέλος του κειμένου με τη χρήση του buffer \1. Πρέπει δηλαδή το κείμενο που βρίσκει να αρχίζει και να τελειώνει με τους ίδιους 2 χαρακτήρες.
9. egrep '(.{3}).*\1' filep
	ΑΠΑΝΤΗΣΗ: Όπως oi 7 & 7 μόνο που ταιριάζει 3 χαρακτήρες στην αρχή με την επανάληψή τους (.{3}) και τους ίδιους 3 στο τέλος του κειμένου με τη χρήση του buffer \1. Πρέπει δηλαδή το κείμενο που βρίσκει να αρχίζει και να τελειώνει με τους ίδιους 3 χαρακτήρες.

ΑΣΚΗΣΗ 5
mkdir ~/os/lab3/askisi5/
vi intro
[ΔΙΝΟΥΜΕ ΤΟ ΚΕΙΜΕΝΟ ΠΟΥ ΖΗΤΑΕΙ Η ΑΣΚΗΣΗ]
1. Να βρείτε τις γραμμές που περιέχουν ώρα (ψηφία:ψηφία)
	ΑΠΑΝΤΗΣΗ: egrep --color '\<[[:digit:]]{1,2}:[[:digit:]]{2}\>' intro
2. Να βρείτε τις γραμμές που περιέχουν τηλεφωνικό νούμερο (10 αριθμητικά ψηφία και παύλες)
	ΑΠΑΝΤΗΣΗ: egrep --color '[[:digit:]|-]{12}' intro
		Ή egrep --color '[0-9]{4}-[0-9]{3}-[0-9]{3}' intro
3. Να βρείτε τις γραμμές που περιέχουν 2 ή περισσότερα συνεχόμενα αστεράκια.
	ΑΠΑΝΤΗΣΗ: egrep --color '\*{2}' intro
4. Να βρείτε τις γραμμές που ξεκινούν με 2 τουλάχιστον αστεράκια.
	ΑΠΑΝΤΗΣΗ: egrep --color '^\*{2}' intro
5. Να βρείτε τις γραμμές που ξεκινούν με κεφαλαίο γράμμα.
	ΑΠΑΝΤΗΣΗ: egrep --color '^[[:upper:]]' intro
6. Να βρείτε τις γραμμές που ΔΕΝ ξεκινούν με κεφαλαίο γράμμα.
	ΑΠΑΝΤΗΣΗ: egrep --color '^[[:lower:]]' intro -> ΝΑ ΕΛΕΓΧΘΕΙ ΑΝ ΖΗΤΑΕΙ ΑΥΤΟ
		Ή egrep --color -v '^[[:upper:]]' intro -> ΝΑ ΕΛΕΓΧΘΕΙ ΑΝ ΖΗΤΑΕΙ ΑΥΤΟ
7. Να βρείτε τις γραμμές που περιέχουν 3 ίδιους χαρακτήρες συνεχόμενους (πχ: 333, ***, 999)
	ΑΠΑΝΤΗΣΗ: egrep --color '\<(.)\1{2}\>' intro
8. Να βρείτε τις γραμμές που περιέχουν ΜΟΝΟ αριθμητικά ψηφία (δηλαδή μόνο το 45).
	ΑΠΑΝΤΗΣΗ: egrep --color '^[0-9]*[^[:space:]]$' intro
		Ή egrep --color '^[0-9][^[:alpha:][:punct:][:space:]]*$' intro
9. Να βρείτε τις γραμμές που περιέχουν ΜΟΝΟ αριθμούς (ακέραιους, δεκαδικούς, αρνητικούς)
	ΑΠΑΝΤΗΣΗ: egrep --color '^-|^([0-9][^[:space:]])$' intro -> ΠΡΟΣΟΧΗ! Δεν θα φέρει σωστά αποτελέσματα αν η γραμμή ξεκινάει με - και μετά περιέχει κείμενο, σύμβολα ή 2 τελείες.
10. Να βρείτε τις γραμμές που δεν περιέχουν γράμματα.
	ΑΠΑΝΤΗΣΗ: egrep --color '^[^[:alpha:]]*$' intro

ΑΣΚΗΣΗ 6
mkdir ~/os/lab3/askisi6/
touch f1
chmod 757 f1
touch f2
chmod 313 f2
touch f3
chmod 010 f3
touch f4
chmod 642 f4
touch f5
chmod 551 f5
touch f6
chmod 133 f6
touch f7
chmod 111 f7
Με χρήση της εντολής ls -l και egrep να βρείτε τα αρχεία όπου:
1. To group να έχει τα δικαιώματα r-x.
	ΑΠΑΝΤΗΣΗ: ls -l | grep --color '\-r-x' -> ΕΙΝΑΙ ΛΑΘΟΣ. ΓΙΑ ΕΛΕΓΧΟ
		Ή ls -l | grep --color '^.r-x' -> ΕΙΝΑΙ ΛΑΘΟΣ. ΓΙΑ ΕΛΕΓΧΟ
		ls -l | grep --color '^....r-x' -> Είναι σωστό αλλά θέλει βελτίωση.
2. Ο user και οι others έχουν ακριβώς τα ίδια δικαιώματα
	ΑΠΑΝΤΗΣΗ: ls -l | egrep --color '([-rwx]{3})\1 ' -> ΕΙΝΑΙ ΛΑΘΟΣ. ΓΙΑ ΕΛΕΓΧΟ
3. Ο user, το group και οι others έχουν ακριβώς τα ίδια δικαιώματα
	ΑΠΑΝΤΗΣΗ: ls -l | egrep --color '([-rwx]{3})\1\1 ' -> ΓΙΑ ΕΛΕΓΧΟ
4. Ο user, το group και οι others έχουν τα ίδια δικαιώματα για write και execute
	ΑΠΑΝΤΗΣΗ: ls -l | egrep --color '([-][w][x])\1\1 ' -> ΓΙΑ ΕΛΕΓΧΟ.
5. Ο user, το group και οι others έχουν τα ίδια δικαιώματα για write
	ΑΠΑΝΤΗΣΗ: ls -l | egrep --color '([-][w][-])\1\1 ' -> ΓΙΑ ΕΛΕΓΧΟ.
6. Ο user, το group και οι others έχουν τα ίδια δικαιώματα για read και execute
	ΑΠΑΝΤΗΣΗ: ls -l | egrep --color '([r][-][x])\1\1 ' -> ΓΙΑ ΕΛΕΓΧΟ.
7. Ο user και οι others έχουν τα ίδια δικαιώματα για read και execute
	ΑΠΑΝΤΗΣΗ: ls -l | egrep --color '([r][-][x])\1 ' -> ΓΙΑ ΕΛΕΓΧΟ.

ΑΣΚΗΣΗ 7
mkdir ~/os/lab3/askisi7/
1. Τουλάχιστον τα 7 πρώτα γράμματα του επιθέτου τους αποτελούν μέρος και του username τους (899 γραμμές)
	ΑΠΑΝΤΗΣΗ: egrep --color -ic '^[^:]*([^:]{7})[^:]*:x:[0-9]+:[0-9]+:\1' ~asidirop/public/OSIntro/Lab4_files/passwd
2. Τουλάχιστον τα 4 πρώτα γράμματα του επιθέτου τους και τα 4 πρώτα γράμματα του ονόματός τους αποτελούν μέρος και του username τους(39 γραμμές)
	ΑΠΑΝΤΗΣΗ: egrep --color -i '^[^:]*([^:]{4})[^:]*:x:[0-9]+:[0-9]+:\1' ~asidirop/public/OSIntro/Lab4_files/passwd > p2   -> ΕΞΑΓΟΥΜΕ ΤΟ ΑΠΟΤΕΛΕΣΜΑ ΣΤΟ ΑΡΧΕΊΟ p2
		ΚΑΙ ΚΑΤΟΠΙΝ ΣΤΟ ΑΡΧΕΊΟ p2: egrep --color -ic '^[^:]*([^:]{4})[^:]*:x:[0-9]+:[0-9]+:[^ ]+ \1' p2
		* Εξήγηση δίνεται στο αντίστοιχο βίντεο
		ΕΝΑΛΛΑΚΤΙΚΑ ΜΠΟΡΕΙ ΝΑ ΓΙΝΕΙ ΜΕ ΔΙΑΣΩΛΗΝΩΣΗ ΧΩΡΙΣ ΑΠΟΘΗΚΕΥΣΗ ΣΕ ΑΡΧΕΙΟ:
		egrep --color -i '^[^:]*([^:]{4})[^:]*:x:[0-9]+:[0-9]+:\1' ~asidirop/public/OSIntro/Lab4_files/passwd | egrep --color -ic '^[^:]*([^:]{4})[^:]*:x:[0-9]+:[0-9]+:[^ ]+ \1'
3. Τουλάχιστον τα 5 πρώτα γράμματα του επιθέτου τους και τα 5 πρώτα γράμματα του ονόματός τους αποτελούν μέρος και του username τους(14 γραμμές)
	ΑΠΑΝΤΗΣΗ (όπως η 2): egrep --color -i '^[^:]*([^:]{5})[^:]*:x:[0-9]+:[0-9]+:\1' ~asidirop/public/OSIntro/Lab4_files/passwd > p3   -> ΕΞΑΓΟΥΜΕ ΤΟ ΑΠΟΤΕΛΕΣΜΑ ΣΤΟ ΑΡΧΕΊΟ p3
		ΚΑΙ ΚΑΤΟΠΙΝ ΣΤΟ ΑΡΧΕΊΟ p3: egrep --color -ic '^[^:]*([^:]{5})[^:]*:x:[0-9]+:[0-9]+:[^ ]+ \1' p3
		* Εξήγηση δίνεται στο αντίστοιχο βίντεο

ΑΣΚΗΣΗ 8
mkdir ~/os/lab3/askisi8/
1. Σε ποια αρχεία (από όλα) περιέχεται η λέξη file2. Εμφανίστε τις γραμμές (και τα ονόματα αρχείων).
	ΑΠΑΝΤΗΣΗ: egrep --color -n 'file2' ~asidirop/public/OSIntro/Lab5_files/*
2. Σε ποια αρχεία περιέχονται γραμμές με μήκος πάνω από 50 χαρακτήρες . Εμφανίστε τις γραμμές (και τα ονόματα αρχείων). (Είναι πολλές οι γραμμές του αποτελέσματος)
	ΑΠΑΝΤΗΣΗ: egrep --color -n '.{50,}' ~asidirop/public/OSIntro/Lab5_files/*
3. Σε ποια αρχεία περιέχονται γραμμές με μήκος πάνω από 50 χαρακτήρες. Εμφανίστε μόνο τα ονόματα αρχείων. Ψάξτε το manual της grep για να δείτε πως γίνεται αυτό.
	ΑΠΑΝΤΗΣΗ: egrep --color -l '.{50,}' ~asidirop/public/OSIntro/Lab5_files/*
4. Σε ποια αρχεία περιέχεται κείμενο μήκους τουλάχιστον 5 χαρακτήρων που επαναλαμβάνεται στην ίδια γραμμή (όχι απαραίτητα συνεχόμενα). Εμφανίστε τις γραμμές (και τα ονόματα αρχείων).
	ΑΠΑΝΤΗΣΗ: egrep --color -n '(.{5,}).*\1' ~asidirop/public/OSIntro/Lab5_files/*
5. Σε ποια αρχεία με κατάληξη txt περιέχονται (μέσα στο κείμενο) αριθμοί; Εμφανίστε μόνο τα ονόματα αρχείων.
	ΑΠΑΝΤΗΣΗ: egrep --color -l '[0-9]' ~asidirop/public/OSIntro/Lab5_files/*.txt
6. Στο users τρέξτε την εντολή: getent passwd | grep ~ Ποιο είναι το αποτέλεσμα και γιατί;
	ΑΠΑΝΤΗΣΗ: Αναζητάει μέσα στο αρχείο /etc/passwd το όνομα χρήστη μας (αφού δίνουμε την ~) με την grep και επιστρέφει τις πληροφορίες του λογαριασμού μας. Επειδή το /etc/passwd είναι αρχείο του συστήματος η εντολή cat ή η απευθείας egrep δεν έχουν πρόσβαση σε αυτό. Η getent (getentries) εμφανίζει το αρχείο σα να εκτελούμε την cat.
